<html lang="en">

<head>
	<link rel="stylesheet" href="../content/styles.css">
	<title>Soar Agents and the Agent Editor</title>
</head>

<body>
	<h1>Soar Agents and the Agent Editor</h1>
	
	<br><br>
	
	<div class="content">
		<h3>Soar Agents</h3>
	
	    <p>Within the Soar IDE, and agent is an organizational concept roughly equivalent to a
	    single Visual Soar project. An agent is stored in the Eclipse workspace as a file
	    with a .soaragent extension. An agent consists of:
	    
	    <ul>
	    <li>A set of files from the Eclipse workspace that are included as members of the agent. 
	    A file will not be checked for errors and will not be used in datamap calculations unless
	    it is a member of an agent.
	    <li>A start file which is used to load the source code. This is typically the file you would
	    source to load the agent into Soar. It is used to provide warnings when a particular file is
	    not reachable from the start file and to detect overwritten production, i.e. two productions
	    with the same name which may indicate a copy/paste error.
	    <li>A datamap. The datamap is constructed only from the productions foudn in files that are
	    members of the agent. The datamap is used in code completion.  
	    </ul>
	    
	    <p>Soar files are not required to be a member of any agent. For such files, only syntax highlighting
	    will be enabled. A Soar file may be a member of more than one agent.
		
		<h3>Agent Files</h3>
		Agent files are simply files in the Eclipse workspace with a .soaragent extension.  There is
		no requirement about where they are located or even to be in the same folder as the files
		that constitute the agent's code base.  Agent files are plain text XML files. As such, they
		should be checked into version control. When an Eclipse project containing Soar agents is
		checked out from version control, or imported, the agents are discovered automatically.
		
		<h3>Creating New Agents</h3>
        <p>To create a new agent, click <b>Soar-&gt;New Soar Agent...</b>. Select the folder you would
        like the agent to reside in and click Finish.  If <b>Create empty agent</b> is not checked,
        the agent will automatically be populated with all Soar files in the folder (and all sub-folders)
        in which the agent is created.  Additionally, if a file named <b>load.soar</b> is present, it 
        will automatically be set as the agent's start file.
        
        <p><i>Note: If Soar support is not enabled when the agent is created, it will be enabled automatically.
        Thus, it is almost never necessary to manually enable Soar support.</i>
         
		<h3>Agent Editor</h3>
		
		<p>Soar agents are edited with a custom form editor in Eclipse. There are several ways to open
		an agent in the agent editor:
		
		<ul>
		<li>Double-click the agent file (name.soaragent) in the package explorer, 
		    or eclipse navigator view
		<li>Double-click the agent in the Soar Explorer view.
		<li>Double-click the agent in the Soar Datamap view.
		<li>When editing a file that is a member of the desired agent, click the agent's name in
		    the hyperlink bar at the top of the editor.
		</ul>
		
		<p>Like other editors, changes to agents must be saved before taking effect. For example, 
		you may change the start file and remove several files from an agent, but the changes 
		will not take affect until you save.
		
		<h4>Selecting the Start File</h4>
		<p>To select a start file, click the <b>...</b> button next to the start file text field.
		This will open an Eclipse resource selection dialog. The first text field is a text filter.
		Type a filter in this field such as "*.soar", or the first few letters of the name of the
		file you'd like to use. Select the file from the list provided and click <b>Ok</b>.
		
		<h4>Adding and Removing Member Files</h4>
		<p>Members files are added to and removed from an agent in the "Agent File Selection" section
		of the agent editor. The left panel displays all of the directories in the Eclipse project
		while the right panel displays the files in the folder selected in the left panel. Checking or
		unchecking a folder in the left panel adds or remove all sub-files and sub-folders in the
		folder.  Checking or unchecking a file in the right panel gives fine-grained control over
		the exact files that are included.
		
		<p>Since many Soar agent code bases are restricted to a single directory tree, it is usually
		simplest to check the top-level folder of the code base and then selectively filter out files
		as necsesary. If new files or folders are added by the user, they will be automatically added
		to the agent. 
		
		<p>Note that when a file is not a member of any agent, it can be quickly added to an agent
		through the hyperlink bar at the top of the Soar editor.  Similarly, a file can be removed 
		from an agent by clicking the <b>(-)</b> link in the hyperlink bar.
		
		<h4>Options</h4>
		<p>The final section of the agent editor is an options section. It currently has a single option, 
		"Source command changes ...".  When checked, the source command performs a directory change
		automatically. This is the behavior of UofM's Soar distribution. When unchecked, the directory
		change is not performed. This is equivalent to the behavior of the Tcl source command.
	
	</div>
</body>
</html>